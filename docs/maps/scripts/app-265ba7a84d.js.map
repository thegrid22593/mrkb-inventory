{"version":3,"sources":["scripts/app.js"],"names":["angular","module","GalleryModalController","$uibModalInstance","data","BuildingResultModel","lodash","$timeout","vm","this","properties","detailModel","currentGallery","find","name","fpoImage","viewImage","slickConfig","event","init","slick","floorPlanImage","$","remove","slickGoTo","length","addClass","mobileFirst","cancel","dismiss","$inject","controller","mrkbNavbar","NavbarController","$state","navBarModel","currentBldgID","params","buildingID","navItems","label","buildingNumber","active","viewBuilding","expanded","shiftMap","detailExpanded","currentBldgNames","FloorPlanTypeAvailability","go","navigateToLanding","preventDefault","directive","restrict","templateUrl","scope","creationDate","controllerAs","bindToController","BuildingService","currentBldgName","currentUnitID","sortBy","filterFloorplanItemDefault","getAllBuildingData","then","result","allBuildings","buildings","getBuildingGalleryData","galleries","service","factory","$window","is","$http","get","response","filter","$filter","comparator","received","expected","isUndefined","isObject","isArray","lowercase","match","forEach","e","indexOf","campaigns","filters","BuildingOverviewController","$log","$stateParams","overviewModel","console","log","viewDetail","id","floorPlanItems","icon","bedroom","floorPlanItemsActive","setActive","filterItem","residenceItemsActive","setActiveResidence","AvailabiltyOptions","availability","filterByFloorPlan","push","toLowerCase","filterByAvailability","resetFilters","BuildingMapController","mapModel","navigateToBuildingState","bldgNum","BuildingDetailController","$uibModal","model","viewGallery","image","open","resolve","BuildingController","buildingModel","mobile","removeClass","runBlock","run","routerConfig","$locationProvider","$stateProvider","$urlRouterProvider","html5Mode","state","abstract","url","views","","building-overview@building","building-map@building","building-detail@building","otherwise","config","constant","malarkey","moment","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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","file":"scripts/app-265ba7a84d.js","sourcesContent":["(function() {\n\n  'use strict';\n\n  angular\n    .module('mrkb', [\n        // core modules\n        'mrkb.core',\n\n        // vendor modules\n        'mrkb.vendors'\n    ]);\n\n})();\n\n(function(){\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .controller('GalleryModalController', GalleryModalController);\n\n    function GalleryModalController($uibModalInstance, data, BuildingResultModel, lodash, $timeout){\n        var vm = this;\n\n        vm.properties           = data;\n        vm.detailModel          = BuildingResultModel.detailModel;\n        vm.currentGallery       = lodash.find(vm.detailModel, { 'name':vm.properties.name});\n        vm.fpoImage             = '/assets/images/buildings/mrkb-birdseye.jpg';\n        vm.properties.viewImage = data.viewImage;\n\n        vm.slickConfig = {\n            event: {\n                init: function (event, slick) {\n                    // if no floor plan param is passed to view gallery method\n                    if(vm.properties.floorPlanImage !==''){\n                        $('.property-img').remove();\n                        // -2 for infinite carousel where additional images are appended and prepended to slick track\n                        slick.slickGoTo($('.slick-track img').length - 2);\n                    }\n\n                    $timeout(function(){\n                        $('.slick-slider').addClass('active');\n                    }, 300);\n                }\n            },\n            mobileFirst: true\n        };\n\n        vm.cancel = function () {\n            $uibModalInstance.dismiss('cancel');\n        };\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .directive('mrkbNavbar', mrkbNavbar);\n\n    /** @ngInject */\n    function mrkbNavbar() {\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/navbar/navbar.html',\n            scope: {\n                creationDate: '='\n            },\n            controller: NavbarController,\n            controllerAs: 'navBar',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function NavbarController(BuildingResultModel, $state, $timeout) {\n            var vm = this;\n\n            vm.navBarModel = BuildingResultModel;\n            \n            vm.navBarModel.currentBldgID = $state.params.buildingID;\n            \n            vm.navItems = [\n                {\n                    \"label\": \"Building\",\n                    \"buildingNumber\": 1,\n                    \"active\": true\n                },\n                {\n                    \"label\": \"Building\",\n                    \"buildingNumber\": 2,\n                    \"active\": false\n                },\n                {\n                    \"label\": \"Building\",\n                    \"buildingNumber\": 5,\n                    \"active\": false\n                }\n            ];\n\n\n            // Sets buildings 1,2 and 5 and toggles expands boolean which in turn toggles class on uiview\n            vm.viewBuilding = function(buildingNumber){\n                if(!BuildingResultModel.expanded){\n                    $timeout(function(){\n                        BuildingResultModel.expanded = true;\n                        BuildingResultModel.shiftMap = true;\n                    },50);\n                }\n\n                BuildingResultModel.detailExpanded = false;\n\n                // reset filter by building names and plan types array\n                BuildingResultModel.currentBldgNames = [''];\n                BuildingResultModel.FloorPlanTypeAvailability = [''];\n\n                $state.go('building.overview', { buildingID:buildingNumber });\n            };\n\n\n            // Navigate to landing, resets filtering to default\n            vm.navigateToLanding = function(event){\n                event.preventDefault();\n\n                BuildingResultModel.expanded            = false;\n                BuildingResultModel.detailExpanded      = false;\n                BuildingResultModel.shiftMap            = false;\n\n                // reset filter by building names array\n                BuildingResultModel.currentBldgNames    = [''];\n                BuildingResultModel.FloorPlanTypeAvailability = [''];\n\n                $state.go('building.landing');\n            }\n\n        }\n    }\n\n})();\n\n(function(){\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .service('BuildingResultModel', BuildingResultModel);\n\n    function BuildingResultModel(BuildingService){\n        var vm                          = this;\n        vm.expanded                     = false;\n        vm.detailExpanded               = false;\n        vm.shiftMap                     = false;\n        // Building ID used for identifying building location on map & buildings 1, 2, & 5\n        vm.currentBldgID                = 1;\n        vm.currentBldgName              = null;\n        // Unit in Building\n        vm.currentUnitID                = null;\n        vm.FloorPlanTypeAvailability    = [''];\n        vm.currentBldgNames             = [''];\n        vm.sortBy                       = '';\n        vm.filterFloorplanItemDefault   = true;\n\n        BuildingService.getAllBuildingData().then(function(result){\n            vm.allBuildings = result.buildings;\n        });\n\n        BuildingService.getBuildingGalleryData().then(function(result){\n           vm.detailModel = result.galleries;\n        });\n    }\n\n})();\n\nangular.module('isJS',[])\n    .factory('is',function($window){\n        return $window.is;\n    });\n\n(function(){\n\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .factory('BuildingService', BuildingService);\n\n    function BuildingService($http){\n\n        function getAllBuildingData(){\n            return $http.get('app/fixtures/buildings.json')\n                .then(function(response){\n                    return response.data;\n                });\n        }\n\n        function getBuildingGalleryData(){\n            return $http.get('app/fixtures/buildings.json')\n                .then(function(response){\n                   return response.data;\n                });\n        }\n\n        return {\n            getAllBuildingData: getAllBuildingData,\n            getBuildingGalleryData: getBuildingGalleryData\n        };\n    }\n\n})();\n\n(function(){\n  'use strict';\n\n  angular\n    .module('mrkb')\n    .filter('filterMultipleKeyValues', function ($filter) {\n      var comparator = function (received, expected) {\n        if (angular.isUndefined(received)) {\n          // No substring matching against `undefined`\n          return false;\n        }\n        if ((received === null) || (expected === null)) {\n          // No substring matching against `null`; only match against `null`\n          return received === expected;\n        }\n        if ((angular.isObject(expected) && !angular.isArray(expected)) || (angular.isObject(received) )) {\n          // Should not compare primitives against objects, unless they have custom `toString` method\n          return false;\n        }\n\n        received = angular.lowercase('' + received);\n        if (angular.isArray(expected)) {\n          var match = false;\n          expected.forEach(function (e) {\n            e = angular.lowercase('' + e);\n            if (received.indexOf(e) !== -1) {\n              match = true;\n            }\n          });\n          return match;\n        } else {\n          expected = angular.lowercase('' + expected);\n          return received.indexOf(expected) !== -1;\n        }\n      };\n      return function (campaigns, filters) {\n        return $filter('filter')(campaigns, filters, comparator);\n      };\n    });\n\n})();\n\n(function(){\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .controller('BuildingOverviewController', BuildingOverviewController);\n\n    function BuildingOverviewController($log, $state, $stateParams, BuildingResultModel, $timeout){\n        var vm = this;\n        vm.overviewModel = BuildingResultModel;\n\n        // set BuildingResultModel for current building number to building ID passed in from state params\n        console.log('$stateParams: ', $state.params.buildingID);\n\n        BuildingResultModel.currentBldgID = $state.params.buildingID;\n\n        // detail panel with building ID as param\n        vm.viewDetail = function(id){\n            $timeout(function(){\n                BuildingResultModel.detailExpanded = true;\n            },50);\n\n            $state.go('building.detail', { buildingID:$state.params.buildingID, id:id });\n        };\n\n        // Static floor plan items\n        vm.floorPlanItems = [\n            {\n                icon: 'icon-makoa-coaster',\n                name: 'Makoa',\n                bedroom: '3 Bedroom'\n            },\n            {\n                icon: 'icon-leilani-coaster',\n                name: 'Leilani',\n                bedroom: '3 Bedroom + Den'\n            },\n            {\n                icon: 'icon-kahua-coaster',\n                name: 'Kahua',\n                bedroom: '4 Bedroom'\n            }\n        ];\n\n        // Set Active Floor Plan Filter\n        vm.floorPlanItemsActive = vm.floorPlanItems;\n\n        vm.setActive = function(filterItem) {\n            vm.floorPlanItemsActive = filterItem;\n        };\n\n        vm.residenceItemsActive = BuildingResultModel.allBuildings;\n\n        // Set Active Residence Unit\n        vm.setActiveResidence = function(id) {\n            vm.residenceItemsActive = id;\n        };\n\n        vm.AvailabiltyOptions = [\n            {\n                availability: 'available'\n            },\n            {\n                availability: 'sold'\n            },\n            {\n                availability: 'pending'\n            }\n        ];\n\n        vm.filterByFloorPlan = function(name){\n            // Remove default class from the three floorplan filters\n            vm.overviewModel.filterFloorplanItemDefault = false;\n\n            BuildingResultModel.currentBldgNames = [];\n            BuildingResultModel.FloorPlanTypeAvailability = [''];\n            BuildingResultModel.currentBldgNames.push(name.toLowerCase());\n        };\n\n        vm.filterByAvailability = function(availability){\n            BuildingResultModel.FloorPlanTypeAvailability = [];\n            BuildingResultModel.FloorPlanTypeAvailability.push(availability);\n        };\n\n        vm.resetFilters = function () {\n            BuildingResultModel.FloorPlanTypeAvailability = [''];\n        };\n    }\n})();\n\n(function(){\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .controller('BuildingMapController', BuildingMapController);\n\n    function BuildingMapController ($log, $state, BuildingResultModel, $timeout){\n        var vm = this;\n        \n        vm.mapModel = BuildingResultModel;\n        vm.mapModel.currentBldgID = $state.params.buildingID;\n        \n        vm.navigateToBuildingState = function(bldgNum){\n            if(!BuildingResultModel.expanded){\n                $timeout(function(){\n                    BuildingResultModel.expanded = true;\n                    BuildingResultModel.shiftMap = true;\n                }, 50);\n            }\n\n            BuildingResultModel.detailExpanded = false;\n\n            // reset filter by building names and plan types array\n            BuildingResultModel.currentBldgNames = [''];\n            BuildingResultModel.FloorPlanTypeAvailability = [''];\n\n            $state.go('building.overview', { buildingID:bldgNum });\n        };\n\n        // Navigate to landing\n        vm.navigateToLanding = function(event){\n            event.preventDefault();\n\n            BuildingResultModel.detailExpanded  = false;\n\n            $timeout(function(){\n                BuildingResultModel.expanded = false;\n                BuildingResultModel.shiftMap = false;\n            },50);\n\n            $state.go('building.landing');\n        }\n    }\n\n})();\n\n(function(){\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .controller('BuildingDetailController', BuildingDetailController);\n\n    function BuildingDetailController($stateParams, BuildingResultModel, lodash, $uibModal, $timeout){\n        var vm = this;\n\n        $timeout(function(){\n            vm.model = lodash.find(BuildingResultModel.allBuildings, { 'id':$stateParams.id });\n        }, 50);\n\n        if(BuildingResultModel.currentBldgID == null || typeof BuildingResultModel.currentBldgID == 'undefined'){\n            BuildingResultModel.currentBldgID = $stateParams.buildingID;\n        }\n\n        if(BuildingResultModel.currentUnitID == null || typeof BuildingResultModel.currentUnitID == 'undefined'){\n            BuildingResultModel.currentUnitID = $stateParams.id;\n        }\n\n        vm.viewGallery = function(name, floorPlanImage, image){\n            if(typeof floorPlanImage == 'undefined'){\n                floorPlanImage = '';\n            }\n\n            $uibModal.open({\n                templateUrl: 'app/components/modal/gallery.html',\n                controller: 'GalleryModalController',\n                controllerAs: 'galleryModal',\n                resolve: {\n                    data: function(){\n                        return {\n                            name: name,\n                            floorPlanImage: floorPlanImage,\n                            viewImage: image\n                        }\n                    }\n                }\n            });\n        }\n    }\n})();\n\n(function(){\n\n    'use strict';\n\n    angular.module('mrkb.vendors', [\n        'ui.bootstrap',\n        'ngLodash',\n        'toastr',\n        'slickCarousel',\n        'isJS'\n    ])\n\n})();\n\n(function(){\n    'use strict';\n\n    angular.module('mrkb.core', [\n        //'ngAnimate',\n        'ngSanitize',\n        'ngMessages',\n        'ngResource',\n        'ui.router'\n    ])\n\n})();\n\n(function(){\n\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .controller('BuildingController', BuildingController);\n\n    function BuildingController(BuildingResultModel, is){\n        var vm = this;\n\n        vm.buildingModel = BuildingResultModel;\n\n        if(is.mobile()){\n            $('.mobile-support').addClass('enabled');\n        }\n\n        else {\n            $('.mobile-support').removeClass('enabled');\n        }\n    }\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .run(runBlock);\n\n    /** @ngInject */\n    function runBlock() {}\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .config(routerConfig);\n\n    /** @ngInject */\n    function routerConfig($locationProvider, $stateProvider, $urlRouterProvider) {\n        $locationProvider.html5Mode(true);\n\n        $stateProvider\n            .state('building', {\n                abstract: true,\n                'url': '/bldg',\n                views: {\n                    '': {\n                        templateUrl: 'app/building/index.html',\n                        controller: 'BuildingController as building'\n                    },\n                    'building-overview@building': {\n                        templateUrl: 'app/building/overview/overview.html',\n                        controller: 'BuildingOverviewController as buildingOverview'\n                    },\n                    'building-map@building': {\n                        templateUrl: 'app/building/map/map.html',\n                        controller: 'BuildingMapController as buildingMap'\n                    }\n                }\n            })\n\n            .state('building.landing', {\n                'url': '/landing',\n                '': {\n                    templateUrl: 'app/building/index.html',\n                    controller: 'BuildingController as building'\n                }\n            })\n\n            .state('building.overview', {\n                'url': '/:buildingID',\n                views: {\n                    'building-overview@building': {\n                        templateUrl: 'app/building/overview/overview.html',\n                        controller: 'BuildingOverviewController as buildingOverview',\n                        resolve: {\n                            init: ['BuildingResultModel', '$timeout', function(BuildingResultModel, $timeout){\n                                if(!BuildingResultModel.expanded){\n                                    $timeout(function(){\n                                        BuildingResultModel.expanded = true;\n                                    },50);\n                                }\n                            }]\n                        }\n                    }\n                }\n            })\n\n            .state('building.detail', {\n                'url': '/:buildingID/:id',\n                views: {\n                    'building-detail@building': {\n                        'templateUrl': 'app/building/detail/detail.html',\n                        'controller': 'BuildingDetailController as buildingDetail',\n                        resolve: {\n                            init: ['BuildingService', 'BuildingResultModel', '$timeout', '$state', '$stateParams', 'lodash', function(BuildingService, BuildingResultModel, $timeout, $state, $stateParams, lodash){\n                                //if(typeof BuildingResultModel.allBuildings == 'undefined'){\n                                //    BuildingService.getAllBuildingData().then(function(result){\n                                //        BuildingResultModel.allBuildings = result.buildings;\n                                //        console.log('promise: ', BuildingResultModel.allBuildings);\n                                //    });\n                                //}\n\n                                if(BuildingResultModel.currentBldgID == null || typeof BuildingResultModel.currentBldgID == 'undefined'){\n                                    BuildingResultModel.currentBldgID = $stateParams.buildingID;\n                                }\n\n\n                                if(BuildingResultModel.currentUnitID == null || typeof BuildingResultModel.currentUnitID == 'undefined'){\n                                    BuildingResultModel.currentUnitID = $stateParams.id;\n                                }\n\n                                if(!BuildingResultModel.expanded && !BuildingResultModel.detailExpanded){\n                                    $timeout(function(){\n                                        BuildingResultModel.expanded = true;\n                                        BuildingResultModel.detailExpanded = true;\n                                    },50);\n                                }\n                            }]\n                        }\n                    }\n                }\n            });\n\n        $urlRouterProvider.otherwise('/bldg/landing');\n    }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('mrkb')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('mrkb')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"mrkb\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/building/index.html\",\"<!-- Building Overview UI View --><aside ui-view name=building-overview ng-class=\\\"{\\'expanded\\': building.buildingModel.expanded}\\\" class=building-overview></aside><!-- Building Detail UI View --><section ui-view name=building-detail ng-class=\\\"{\\'expanded\\': building.buildingModel.detailExpanded}\\\" class=building-detail></section><!-- Building Map UI View --><section ui-view=building-map ng-class=\\\"{\\'expanded\\': building.buildingModel.shiftMap}\\\" class=building-map></section>\");\n$templateCache.put(\"app/building/detail/detail.html\",\"<div class=building-detail-preview><button class=\\\"btn view-gallery\\\" ng-click=\\\"buildingDetail.viewGallery(buildingDetail.model.name, buildingDetail.model.floorPlanImage, buildingDetail.model.image)\\\">View Gallery</button> <img ng-if=buildingDetail.model.imageThumb ng-src={{buildingDetail.model.imageThumb}} alt=\\\"\\\"><div class=building-detail-preview-dimmer></div></div><div class=building-detail-info><p>{{buildingDetail.model.id}} | {{buildingDetail.model.name}}</p><span class=\\\"building-detail-info-label {{buildingDetail.model.availability}}\\\">{{buildingDetail.model.availability}}</span><ul class=building-detail-info-list><li>{{buildingDetail.model.bedrooms}}</li><li ng-if=buildingDetail.model.den>{{buildingDetail.model.den}}</li><li>{{buildingDetail.model.bathrooms}}</li><li>{{buildingDetail.model.totalSQFT}} SF Total</li><li>{{buildingDetail.model.intSQFT}} SF Inner</li><li>{{buildingDetail.model.lanaiSQFT}} SF Lanai</li></ul></div><div class=building-detail-carousel><img ng-src={{buildingDetail.model.floorplanImage}} ng-click=\\\"buildingDetail.viewGallery(buildingDetail.model.name, buildingDetail.model.floorplanImage)\\\" alt=\\\"{{buildingDetail.model.name}} {{buildingDetail.model.bedrooms}} floorplan\\\"></div>\");\n$templateCache.put(\"app/building/map/map.html\",\"<div class=mapped-item-1 ng-class=\\\"{\\'active\\': buildingMap.mapModel.currentBldgID == 1}\\\" ng-click=buildingMap.navigateToBuildingState(1)><span class=building-text>Building</span><br><span class=building-number>1</span><div class=map-arrow></div></div><div class=mapped-item-5 ng-class=\\\"{\\'active\\': buildingMap.mapModel.currentBldgID == 5}\\\" ng-click=buildingMap.navigateToBuildingState(5)><span class=building-text>Building</span><br><span class=building-number>5</span><div class=map-arrow></div></div><div class=mapped-item-2 ng-class=\\\"{\\'active\\': buildingMap.mapModel.currentBldgID == 2}\\\" ng-click=buildingMap.navigateToBuildingState(2)><span class=building-text>Building</span><br><span class=building-number>2</span><div class=map-arrow></div></div><div class=overlay></div><div class=map-hit-area ng-click=buildingMap.navigateToLanding($event)></div>\");\n$templateCache.put(\"app/building/overview/overview.html\",\"<header class=building-panel-header><h4>Select Floorplan</h4></header><!-- Floor Plan Options Filter--><ul class=building-panel-floorplans><li ng-repeat=\\\"floorPlan in buildingOverview.floorPlanItems\\\"><a ng-href=# ng-click=\\\"buildingOverview.filterByFloorPlan(floorPlan.name); buildingOverview.setActive(floorPlan)\\\" ng-class=\\\"{ \\'active\\' : buildingOverview.floorPlanItemsActive === floorPlan, default: buildingOverview.overviewModel.filterFloorplanItemDefault == true }\\\"><i class=\\\"icon {{floorPlan.icon}}\\\"></i> <span>{{floorPlan.name}}</span><p>{{floorPlan.bedroom}}</p></a></li></ul><!-- Units --><h4>Select Residences</h4><ul class=building-panel-units><li ng-repeat=\\\"building in building.buildingModel.allBuildings | filterMultipleKeyValues: {buildingID: building.buildingModel.currentBldgID, name:building.buildingModel.currentBldgNames, availability:building.buildingModel.FloorPlanTypeAvailability}\\\"><a href=# class={{building.availability}} ng-class=\\\"{\\'active\\': buildingOverview.residenceItemsActive === building.id }\\\" ng-click=\\\"buildingOverview.viewDetail(building.id, building.name); buildingOverview.setActiveResidence(building.id);\\\"><i class=\\\"icon icon-{{building.name}}-coaster\\\"></i> <span class=building-panel-unit-number>{{building.id}}</span></a></li></ul><!-- Unit Availability Filter--><div class=building-panel-options><button ng-repeat=\\\"availabiltyOption in buildingOverview.AvailabiltyOptions\\\" ng-click=buildingOverview.filterByAvailability(availabiltyOption.availability) ng-dblclick=buildingOverview.resetFilters() class=\\\"btn {{availabiltyOption.availability}}\\\">{{availabiltyOption.availability}}</button></div>\");\n$templateCache.put(\"app/components/modal/gallery.html\",\"<button class=\\\"btn close icon icon-close\\\" ng-click=galleryModal.cancel()>&nbsp</button><section class=modal-body><slick settings=galleryModal.slickConfig prev-arrow=.slick-prev next-arrow=.slick-next infinite=true slides-to-show=1 slides-to-scroll=1 mobile-first=true><img ng-if=\\\"galleryModal.properties.viewImage != galleryModal.fpoImage\\\" ng-src={{galleryModal.properties.viewImage}} class=property-img alt=\\\"\\\"> <img ng-repeat=\\\"item in galleryModal.currentGallery.images\\\" ng-src={{galleryModal.currentGallery.images[$index]}} alt=\\\"\\\"></slick><button type=button class=\\\"slick-prev icon icon-prev\\\"></button> <button type=button class=\\\"slick-next icon icon-next\\\"></button></section>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=\\\"navbar navbar-static-top\\\"><div class=container-fluid><div class=navbar-header><button ng-init=\\\"navCollapsed = true\\\" ng-click=\\\"navCollapsed = !navCollapsed\\\" type=button class=\\\"navbar-toggle collapsed\\\" aria-expanded=false><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand ng-click=navBar.navigateToLanding($event)><i class=\\\"icon icon-mkrb-logo mkrb-logo-mark\\\"></i></a></div><div class=\\\"collapse navbar-collapse\\\" uib-collapse=navCollapsed id=bs-example-navbar-collapse-6><ul class=\\\"nav navbar-nav navbar-right\\\"><li ng-repeat=\\\"navItem in navBar.navItems\\\"><a ng-class=\\\"{\\'active\\': navBar.navItems.active, \\'active\\': navBar.navBarModel.currentBldgID == navBar.navItems[$index].buildingNumber}\\\" ng-click=navBar.viewBuilding(navBar.navItems[$index].buildingNumber) ng-href=#>{{navBar.navItems[$index].label}} {{navBar.navItems[$index].buildingNumber}}</a></li></ul></div></div></nav>\");}]);"],"sourceRoot":"/source/"}