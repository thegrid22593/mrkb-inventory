{"version":3,"sources":["scripts/app.js"],"names":["angular","module","mrkbNavbar","NavbarController","BuildingResultModel","$state","$timeout","vm","this","navBarModel","currentBldgID","params","buildingID","navItems","label","buildingNumber","active","viewBuilding","expanded","shiftMap","detailExpanded","currentBldgNames","FloorPlanTypeAvailability","go","navigateToLanding","event","preventDefault","$inject","directive","restrict","templateUrl","scope","creationDate","controller","controllerAs","bindToController","GalleryModalController","$uibModalInstance","data","lodash","properties","detailModel","currentGallery","find","name","fpoImage","viewImage","slickConfig","init","slick","floorPlanImage","$","remove","slickGoTo","length","addClass","mobileFirst","cancel","dismiss","factory","$window","is","BuildingService","$http","getAllBuildingData","get","then","response","getBuildingGalleryData","currentBldgName","currentUnitID","sortBy","filterFloorplanItemDefault","result","allBuildings","buildings","galleries","service","filter","$filter","comparator","received","expected","isUndefined","isObject","isArray","lowercase","match","forEach","e","indexOf","campaigns","filters","BuildingOverviewController","$log","$stateParams","overviewModel","console","log","viewDetail","id","floorPlanItems","icon","bedroom","floorPlanItemsActive","setActive","filterItem","residenceItemsActive","setActiveResidence","AvailabiltyOptions","availability","filterByFloorPlan","push","toLowerCase","filterByAvailability","resetFilters","BuildingMapController","mapModel","navigateToBuildingState","bldgNum","BuildingDetailController","$uibModal","model","viewGallery","image","open","resolve","BuildingController","buildingModel","runBlock","run","routerConfig","$locationProvider","$stateProvider","$urlRouterProvider","html5Mode","state","abstract","url","views","","building-overview@building","building-map@building","building-detail@building","otherwise","config","constant","malarkey","moment","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"CAAA,WAEE,YAEAA,SACGC,OAAO,QAEJ,YAGA,oBAKR,WACI,YAOA,SAASC,KAeL,QAASC,GAAiBC,EAAqBC,EAAQC,GACnD,GAAIC,GAAKC,IAETD,GAAGE,YAAcL,EAEjBG,EAAGE,YAAYC,cAAgBL,EAAOM,OAAOC,WAE7CL,EAAGM,WAEKC,MAAS,WACTC,eAAkB,EAClBC,QAAU,IAGVF,MAAS,WACTC,eAAkB,EAClBC,QAAU,IAGVF,MAAS,WACTC,eAAkB,EAClBC,QAAU,IAMlBT,EAAGU,aAAe,SAASF,GACnBX,EAAoBc,UACpBZ,EAAS,WACLF,EAAoBc,UAAW,EAC/Bd,EAAoBe,UAAW,GACjC,IAGNf,EAAoBgB,gBAAiB,EAGrChB,EAAoBiB,kBAAoB,IACxCjB,EAAoBkB,2BAA6B,IAEjDjB,EAAOkB,GAAG,qBAAuBX,WAAWG,KAKhDR,EAAGiB,kBAAoB,SAASC,GAC5BA,EAAMC,iBAENtB,EAAoBc,UAAsB,EAC1Cd,EAAoBgB,gBAAsB,EAC1ChB,EAAoBe,UAAsB,EAG1Cf,EAAoBiB,kBAAuB,IAC3CjB,EAAoBkB,2BAA6B,IAEjDjB,EAAOkB,GAAG,qBAvElBpB,EAAiBwB,SAAW,sBAAuB,SAAU,WAA7D,IAAIC,IACAC,SAAU,IACVC,YAAa,oCACbC,OACIC,aAAc,KAElBC,WAAY9B,EACZ+B,aAAc,SACdC,kBAAkB,EAGtB,OAAOP,GAjBX5B,QACKC,OAAO,QACP2B,UAAU,aAAc1B,MAmFjC,WACI,YAMA,SAASkC,GAAuBC,EAAmBC,EAAMlC,EAAqBmC,EAAQjC,GAClF,GAAIC,GAAKC,IAETD,GAAGiC,WAAuBF,EAC1B/B,EAAGkC,YAAuBrC,EAAoBqC,YAC9ClC,EAAGmC,eAAuBH,EAAOI,KAAKpC,EAAGkC,aAAeG,KAAOrC,EAAGiC,WAAWI,OAC7ErC,EAAGsC,SAAuB,6CAC1BtC,EAAGiC,WAAWM,UAAYR,EAAKQ,UAE/BvC,EAAGwC,aACCtB,OACIuB,KAAM,SAAUvB,EAAOwB,GAEgB,KAAhC1C,EAAGiC,WAAWU,iBACbC,EAAE,iBAAiBC,SAEnBH,EAAMI,UAAUF,EAAE,oBAAoBG,OAAS,IAGnDhD,EAAS,WACL6C,EAAE,iBAAiBI,SAAS,WAC7B,OAGXC,aAAa,GAGjBjD,EAAGkD,OAAS,WACRpB,EAAkBqB,QAAQ,WA/BlCtB,EAAuBT,SAAW,oBAAqB,OAAQ,sBAAuB,SAAU,YADhG3B,QACKC,OAAO,QACPgC,WAAW,yBAA0BG,MAmC9CpC,QAAQC,OAAO,WACV0D,QAAQ,MAAA,UAAK,SAASC,GACnB,MAAOA,GAAQC,MAGvB,WAEI,YAMA,SAASC,GAAgBC,GAErB,QAASC,KACL,MAAOD,GAAME,IAAI,+BACZC,KAAK,SAASC,GACX,MAAOA,GAAS7B,OAI5B,QAAS8B,KACL,MAAOL,GAAME,IAAI,+BACZC,KAAK,SAASC,GACZ,MAAOA,GAAS7B,OAI3B,OACI0B,mBAAoBA,EACpBI,uBAAwBA,GApBhCN,EAAgBnC,SAAW,SAF3B3B,QACKC,OAAO,QACP0D,QAAQ,kBAAmBG,MA0BpC,WACI,YAMA,SAAS1D,GAAoB0D,GACzB,GAAIvD,GAA8BC,IAClCD,GAAGW,UAA+B,EAClCX,EAAGa,gBAA+B,EAClCb,EAAGY,UAA+B,EAElCZ,EAAGG,cAA+B,EAClCH,EAAG8D,gBAA+B,KAElC9D,EAAG+D,cAA+B,KAClC/D,EAAGe,2BAAgC,IACnCf,EAAGc,kBAAgC,IACnCd,EAAGgE,OAA+B,GAClChE,EAAGiE,4BAA+B,EAElCV,EAAgBE,qBAAqBE,KAAK,SAASO,GAC/ClE,EAAGmE,aAAeD,EAAOE,YAG7Bb,EAAgBM,yBAAyBF,KAAK,SAASO,GACpDlE,EAAGkC,YAAcgC,EAAOG,YArB/BxE,EAAoBuB,SAAW,mBAH/B3B,QACKC,OAAO,QACP4E,QAAQ,sBAAuBzE,MA4BxC,WACE,YAEAJ,SACGC,OAAO,QACP6E,OAAO,2BAAA,UAA2B,SAAUC,GAC3C,GAAIC,GAAa,SAAUC,EAAUC,GACnC,GAAIlF,QAAQmF,YAAYF,GAEtB,OAAO,CAET,IAAkB,OAAbA,GAAoC,OAAbC,EAE1B,MAAOD,KAAaC,CAEtB,IAAKlF,QAAQoF,SAASF,KAAclF,QAAQqF,QAAQH,IAAelF,QAAQoF,SAASH,GAElF,OAAO,CAIT,IADAA,EAAWjF,QAAQsF,UAAU,GAAKL,GAC9BjF,QAAQqF,QAAQH,GAAW,CAC7B,GAAIK,IAAQ,CAOZ,OANAL,GAASM,QAAQ,SAAUC,GACzBA,EAAIzF,QAAQsF,UAAU,GAAKG,GACC,KAAxBR,EAASS,QAAQD,KACnBF,GAAQ,KAGLA,EAGP,MADAL,GAAWlF,QAAQsF,UAAU,GAAKJ,GACI,KAA/BD,EAASS,QAAQR,GAG5B,OAAO,UAAUS,EAAWC,GAC1B,MAAOb,GAAQ,UAAUY,EAAWC,EAASZ,UAMrD,WACI,YAMA,SAASa,GAA2BC,EAAMzF,EAAQ0F,EAAc3F,EAAqBE,GACjF,GAAIC,GAAKC,IACTD,GAAGyF,cAAgB5F,EAGnB6F,QAAQC,IAAI,iBAAkB7F,EAAOM,OAAOC,YAE5CR,EAAoBM,cAAgBL,EAAOM,OAAOC,WAGlDL,EAAG4F,WAAa,SAASC,GACrB9F,EAAS,WACLF,EAAoBgB,gBAAiB,GACvC,IAEFf,EAAOkB,GAAG,mBAAqBX,WAAWP,EAAOM,OAAOC,WAAYwF,GAAGA,KAI3E7F,EAAG8F,iBAEKC,KAAM,qBACN1D,KAAM,QACN2D,QAAS,cAGTD,KAAM,uBACN1D,KAAM,UACN2D,QAAS,oBAGTD,KAAM,qBACN1D,KAAM,QACN2D,QAAS,cAKjBhG,EAAGiG,qBAAuBjG,EAAG8F,eAE7B9F,EAAGkG,UAAY,SAASC,GACpBnG,EAAGiG,qBAAuBE,GAG9BnG,EAAGoG,qBAAuBvG,EAAoBsE,aAG9CnE,EAAGqG,mBAAqB,SAASR,GAC7B7F,EAAGoG,qBAAuBP,GAG9B7F,EAAGsG,qBAEKC,aAAc,cAGdA,aAAc,SAGdA,aAAc,YAItBvG,EAAGwG,kBAAoB,SAASnE,GAE5BrC,EAAGyF,cAAcxB,4BAA6B,EAE9CpE,EAAoBiB,oBACpBjB,EAAoBkB,2BAA6B,IACjDlB,EAAoBiB,iBAAiB2F,KAAKpE,EAAKqE,gBAGnD1G,EAAG2G,qBAAuB,SAASJ,GAC/B1G,EAAoBkB,6BACpBlB,EAAoBkB,0BAA0B0F,KAAKF,IAGvDvG,EAAG4G,aAAe,WACd/G,EAAoBkB,2BAA6B,KA9EzDuE,EAA2BlE,SAAW,OAAQ,SAAU,eAAgB,sBAAuB,YAJ/F3B,QACKC,OAAO,QACPgC,WAAW,6BAA8B4D,MAqFlD,WACI,YAMA,SAASuB,GAAuBtB,EAAMzF,EAAQD,EAAqBE,GAC/D,GAAIC,GAAKC,IAETD,GAAG8G,SAAWjH,EACdG,EAAG8G,SAAS3G,cAAgBL,EAAOM,OAAOC,WAE1CL,EAAG+G,wBAA0B,SAASC,GAC9BnH,EAAoBc,UACpBZ,EAAS,WACLF,EAAoBc,UAAW,EAC/Bd,EAAoBe,UAAW,GAChC,IAGPf,EAAoBgB,gBAAiB,EAGrChB,EAAoBiB,kBAAoB,IACxCjB,EAAoBkB,2BAA6B,IAEjDjB,EAAOkB,GAAG,qBAAuBX,WAAW2G,KAIhDhH,EAAGiB,kBAAoB,SAASC,GAC5BA,EAAMC,iBAENtB,EAAoBgB,gBAAkB,EAEtCd,EAAS,WACLF,EAAoBc,UAAW,EAC/Bd,EAAoBe,UAAW,GACjC,IAEFd,EAAOkB,GAAG,qBAjClB6F,EAAsBzF,SAAW,OAAQ,SAAU,sBAAuB,YAL1E3B,QACKC,OAAO,QACPgC,WAAW,wBAAyBmF,MA0C7C,WACI,YAMA,SAASI,GAAyBzB,EAAc3F,EAAqBmC,EAAQkF,EAAWnH,GACpF,GAAIC,GAAKC,IAETF,GAAS,WACLC,EAAGmH,MAAQnF,EAAOI,KAAKvC,EAAoBsE,cAAgB0B,GAAKL,EAAaK,MAC9E,KAEqC,MAArChG,EAAoBM,eAAqE,mBAArCN,GAAoBM,iBACvEN,EAAoBM,cAAgBqF,EAAanF,aAGb,MAArCR,EAAoBkE,eAAqE,mBAArClE,GAAoBkE,iBACvElE,EAAoBkE,cAAgByB,EAAaK,IAGrD7F,EAAGoH,YAAc,SAAS/E,EAAMM,EAAgB0E,GAChB,mBAAlB1E,KACNA,EAAiB,IAGrBuE,EAAUI,MACN/F,YAAa,oCACbG,WAAY,yBACZC,aAAc,eACd4F,SACIxF,KAAM,WACF,OACIM,KAAMA,EACNM,eAAgBA,EAChBJ,UAAW8E,QA3BnCJ,EAAyB7F,SAAW,eAAgB,sBAAuB,SAAU,YAAa,YANlG3B,QACKC,OAAO,QACPgC,WAAW,2BAA4BuF,MAwChD,WAEI,YAEAxH,SAAQC,OAAO,gBACX,eACA,WACA,SACA,gBACA,YAKR,WACI,YAEAD,SAAQC,OAAO,aAEX,aACA,aACA,aACA,iBAKR,WAEI,YAMA,SAAS8H,GAAmB3H,GACxB,GAAIG,GAAKC,IAETD,GAAGyH,cAAgB5H,EAAvB2H,EAAmBpG,SAAW,uBAP9B3B,QACKC,OAAO,QACPgC,WAAW,qBAAsB8F,MAkB1C,WACI,YAOA,SAASE,MALTjI,QACKC,OAAO,QACPiI,IAAID,MAOb,WACI,YAOA,SAASE,GAAaC,EAAmBC,EAAgBC,GACrDF,EAAkBG,WAAU,GAE5BF,EACKG,MAAM,YACHC,YAAU,EACVC,IAAO,QACPC,OACIC,IACI9G,YAAa,0BACbG,WAAY,kCAEhB4G,8BACI/G,YAAa,sCACbG,WAAY,kDAEhB6G,yBACIhH,YAAa,4BACbG,WAAY,2CAKvBuG,MAAM,oBACHE,IAAO,WACPE,IACI9G,YAAa,0BACbG,WAAY,oCAInBuG,MAAM,qBACHE,IAAO,eACPC,OACIE,8BACI/G,YAAa,sCACbG,WAAY,iDACZ6F,SACI9E,MAAO,sBAAuB,WAAY,SAAS5C,EAAqBE,GAChEF,EAAoBc,UACpBZ,EAAS,WACLF,EAAoBc,UAAW,GACjC,WAQzBsH,MAAM,mBACHE,IAAO,mBACPC,OACII,4BACIjH,YAAe,kCACfG,WAAc,6CACd6F,SACI9E,MAAO,kBAAmB,sBAAuB,WAAY,SAAU,eAAgB,SAAU,SAASc,EAAiB1D,EAAqBE,EAAUD,EAAQ0F,EAAcxD,IAQpI,MAArCnC,EAAoBM,eAAqE,mBAArCN,GAAoBM,iBACvEN,EAAoBM,cAAgBqF,EAAanF,aAIb,MAArCR,EAAoBkE,eAAqE,mBAArClE,GAAoBkE,iBACvElE,EAAoBkE,cAAgByB,EAAaK,IAGjDhG,EAAoBc,UAAad,EAAoBgB,gBACrDd,EAAS,WACLF,EAAoBc,UAAW,EAC/Bd,EAAoBgB,gBAAiB,GACvC,WAQ9BkH,EAAmBU,UAAU,gCAnFjCb,EAAaxG,SAAW,oBAAqB,iBAAkB,sBAR/D3B,QACKC,OAAO,QACPgJ,OAAOd,MA+FhB,WACE,YAEAnI,SACGC,OAAO,QACPiJ,SAAS,WAAYC,UACrBD,SAAS,SAAUE,WAIxB,WACE,YAOA,SAASH,GAAOI,EAAcC,GAE5BD,EAAaE,cAAa,GAG1BD,EAAaE,WAAY,EACzBF,EAAaG,QAAU,IACvBH,EAAaI,cAAgB,kBAC7BJ,EAAaK,mBAAoB,EACjCL,EAAaM,aAAc,EAL7BX,EAAOtH,SAAW,eAAgB,gBATlC3B,QACGC,OAAO,QACPgJ,OAAOA,MAiBZjJ,QAAQC,OAAO,QAAQiI,KAAK,iBAAkB,SAAS2B,GAAiBA,EAAeC,IAAI,0BAA0B,ieACrHD,EAAeC,IAAI,kCAAkC,ssCACrDD,EAAeC,IAAI,4BAA4B,81BAC/CD,EAAeC,IAAI,sCAAsC,smDACzDD,EAAeC,IAAI,oCAAoC,0qBACvDD,EAAeC,IAAI,oCAAoC","file":"scripts/app-3a33e7cfdc.js","sourcesContent":["(function() {\n\n  'use strict';\n\n  angular\n    .module('mrkb', [\n        // core modules\n        'mrkb.core',\n\n        // vendor modules\n        'mrkb.vendors'\n    ]);\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .directive('mrkbNavbar', mrkbNavbar);\n\n    /** @ngInject */\n    function mrkbNavbar() {\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'app/components/navbar/navbar.html',\n            scope: {\n                creationDate: '='\n            },\n            controller: NavbarController,\n            controllerAs: 'navBar',\n            bindToController: true\n        };\n\n        return directive;\n\n        /** @ngInject */\n        function NavbarController(BuildingResultModel, $state, $timeout) {\n            var vm = this;\n\n            vm.navBarModel = BuildingResultModel;\n            \n            vm.navBarModel.currentBldgID = $state.params.buildingID;\n            \n            vm.navItems = [\n                {\n                    \"label\": \"Building\",\n                    \"buildingNumber\": 1,\n                    \"active\": true\n                },\n                {\n                    \"label\": \"Building\",\n                    \"buildingNumber\": 2,\n                    \"active\": false\n                },\n                {\n                    \"label\": \"Building\",\n                    \"buildingNumber\": 5,\n                    \"active\": false\n                }\n            ];\n\n\n            // Sets buildings 1,2 and 5 and toggles expands boolean which in turn toggles class on uiview\n            vm.viewBuilding = function(buildingNumber){\n                if(!BuildingResultModel.expanded){\n                    $timeout(function(){\n                        BuildingResultModel.expanded = true;\n                        BuildingResultModel.shiftMap = true;\n                    },50);\n                }\n\n                BuildingResultModel.detailExpanded = false;\n\n                // reset filter by building names and plan types array\n                BuildingResultModel.currentBldgNames = [''];\n                BuildingResultModel.FloorPlanTypeAvailability = [''];\n\n                $state.go('building.overview', { buildingID:buildingNumber });\n            };\n\n\n            // Navigate to landing, resets filtering to default\n            vm.navigateToLanding = function(event){\n                event.preventDefault();\n\n                BuildingResultModel.expanded            = false;\n                BuildingResultModel.detailExpanded      = false;\n                BuildingResultModel.shiftMap            = false;\n\n                // reset filter by building names array\n                BuildingResultModel.currentBldgNames    = [''];\n                BuildingResultModel.FloorPlanTypeAvailability = [''];\n\n                $state.go('building.landing');\n            }\n\n        }\n    }\n\n})();\n\n(function(){\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .controller('GalleryModalController', GalleryModalController);\n\n    function GalleryModalController($uibModalInstance, data, BuildingResultModel, lodash, $timeout){\n        var vm = this;\n\n        vm.properties           = data;\n        vm.detailModel          = BuildingResultModel.detailModel;\n        vm.currentGallery       = lodash.find(vm.detailModel, { 'name':vm.properties.name});\n        vm.fpoImage             = '/assets/images/buildings/mrkb-birdseye.jpg';\n        vm.properties.viewImage = data.viewImage;\n\n        vm.slickConfig = {\n            event: {\n                init: function (event, slick) {\n                    // if no floor plan param is passed to view gallery method\n                    if(vm.properties.floorPlanImage !==''){\n                        $('.property-img').remove();\n                        // -2 for infinite carousel where additional images are appended and prepended to slick track\n                        slick.slickGoTo($('.slick-track img').length - 2);\n                    }\n\n                    $timeout(function(){\n                        $('.slick-slider').addClass('active');\n                    }, 300);\n                }\n            },\n            mobileFirst: true\n        };\n\n        vm.cancel = function () {\n            $uibModalInstance.dismiss('cancel');\n        };\n    }\n})();\n\nangular.module('isJS',[])\n    .factory('is',function($window){\n        return $window.is;\n    });\n\n(function(){\n\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .factory('BuildingService', BuildingService);\n\n    function BuildingService($http){\n\n        function getAllBuildingData(){\n            return $http.get('app/fixtures/buildings.json')\n                .then(function(response){\n                    return response.data;\n                });\n        }\n\n        function getBuildingGalleryData(){\n            return $http.get('app/fixtures/buildings.json')\n                .then(function(response){\n                   return response.data;\n                });\n        }\n\n        return {\n            getAllBuildingData: getAllBuildingData,\n            getBuildingGalleryData: getBuildingGalleryData\n        };\n    }\n\n})();\n\n(function(){\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .service('BuildingResultModel', BuildingResultModel);\n\n    function BuildingResultModel(BuildingService){\n        var vm                          = this;\n        vm.expanded                     = false;\n        vm.detailExpanded               = false;\n        vm.shiftMap                     = false;\n        // Building ID used for identifying building location on map & buildings 1, 2, & 5\n        vm.currentBldgID                = 1;\n        vm.currentBldgName              = null;\n        // Unit in Building\n        vm.currentUnitID                = null;\n        vm.FloorPlanTypeAvailability    = [''];\n        vm.currentBldgNames             = [''];\n        vm.sortBy                       = '';\n        vm.filterFloorplanItemDefault   = true;\n\n        BuildingService.getAllBuildingData().then(function(result){\n            vm.allBuildings = result.buildings;\n        });\n\n        BuildingService.getBuildingGalleryData().then(function(result){\n           vm.detailModel = result.galleries;\n        });\n    }\n\n})();\n\n(function(){\n  'use strict';\n\n  angular\n    .module('mrkb')\n    .filter('filterMultipleKeyValues', function ($filter) {\n      var comparator = function (received, expected) {\n        if (angular.isUndefined(received)) {\n          // No substring matching against `undefined`\n          return false;\n        }\n        if ((received === null) || (expected === null)) {\n          // No substring matching against `null`; only match against `null`\n          return received === expected;\n        }\n        if ((angular.isObject(expected) && !angular.isArray(expected)) || (angular.isObject(received) )) {\n          // Should not compare primitives against objects, unless they have custom `toString` method\n          return false;\n        }\n\n        received = angular.lowercase('' + received);\n        if (angular.isArray(expected)) {\n          var match = false;\n          expected.forEach(function (e) {\n            e = angular.lowercase('' + e);\n            if (received.indexOf(e) !== -1) {\n              match = true;\n            }\n          });\n          return match;\n        } else {\n          expected = angular.lowercase('' + expected);\n          return received.indexOf(expected) !== -1;\n        }\n      };\n      return function (campaigns, filters) {\n        return $filter('filter')(campaigns, filters, comparator);\n      };\n    });\n\n})();\n\n(function(){\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .controller('BuildingOverviewController', BuildingOverviewController);\n\n    function BuildingOverviewController($log, $state, $stateParams, BuildingResultModel, $timeout){\n        var vm = this;\n        vm.overviewModel = BuildingResultModel;\n\n        // set BuildingResultModel for current building number to building ID passed in from state params\n        console.log('$stateParams: ', $state.params.buildingID);\n\n        BuildingResultModel.currentBldgID = $state.params.buildingID;\n\n        // detail panel with building ID as param\n        vm.viewDetail = function(id){\n            $timeout(function(){\n                BuildingResultModel.detailExpanded = true;\n            },50);\n\n            $state.go('building.detail', { buildingID:$state.params.buildingID, id:id });\n        };\n\n        // Static floor plan items\n        vm.floorPlanItems = [\n            {\n                icon: 'icon-makoa-coaster',\n                name: 'Makoa',\n                bedroom: '3 Bedroom'\n            },\n            {\n                icon: 'icon-leilani-coaster',\n                name: 'Leilani',\n                bedroom: '3 Bedroom + Den'\n            },\n            {\n                icon: 'icon-kahua-coaster',\n                name: 'Kahua',\n                bedroom: '4 Bedroom'\n            }\n        ];\n\n        // Set Active Floor Plan Filter\n        vm.floorPlanItemsActive = vm.floorPlanItems;\n\n        vm.setActive = function(filterItem) {\n            vm.floorPlanItemsActive = filterItem;\n        };\n\n        vm.residenceItemsActive = BuildingResultModel.allBuildings;\n\n        // Set Active Residence Unit\n        vm.setActiveResidence = function(id) {\n            vm.residenceItemsActive = id;\n        };\n\n        vm.AvailabiltyOptions = [\n            {\n                availability: 'available'\n            },\n            {\n                availability: 'sold'\n            },\n            {\n                availability: 'pending'\n            }\n        ];\n\n        vm.filterByFloorPlan = function(name){\n            // Remove default class from the three floorplan filters\n            vm.overviewModel.filterFloorplanItemDefault = false;\n\n            BuildingResultModel.currentBldgNames = [];\n            BuildingResultModel.FloorPlanTypeAvailability = [''];\n            BuildingResultModel.currentBldgNames.push(name.toLowerCase());\n        };\n\n        vm.filterByAvailability = function(availability){\n            BuildingResultModel.FloorPlanTypeAvailability = [];\n            BuildingResultModel.FloorPlanTypeAvailability.push(availability);\n        };\n\n        vm.resetFilters = function () {\n            BuildingResultModel.FloorPlanTypeAvailability = [''];\n        };\n    }\n})();\n\n(function(){\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .controller('BuildingMapController', BuildingMapController);\n\n    function BuildingMapController ($log, $state, BuildingResultModel, $timeout){\n        var vm = this;\n        \n        vm.mapModel = BuildingResultModel;\n        vm.mapModel.currentBldgID = $state.params.buildingID;\n        \n        vm.navigateToBuildingState = function(bldgNum){\n            if(!BuildingResultModel.expanded){\n                $timeout(function(){\n                    BuildingResultModel.expanded = true;\n                    BuildingResultModel.shiftMap = true;\n                }, 50);\n            }\n\n            BuildingResultModel.detailExpanded = false;\n\n            // reset filter by building names and plan types array\n            BuildingResultModel.currentBldgNames = [''];\n            BuildingResultModel.FloorPlanTypeAvailability = [''];\n\n            $state.go('building.overview', { buildingID:bldgNum });\n        };\n\n        // Navigate to landing\n        vm.navigateToLanding = function(event){\n            event.preventDefault();\n\n            BuildingResultModel.detailExpanded  = false;\n\n            $timeout(function(){\n                BuildingResultModel.expanded = false;\n                BuildingResultModel.shiftMap = false;\n            },50);\n\n            $state.go('building.landing');\n        }\n    }\n\n})();\n\n(function(){\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .controller('BuildingDetailController', BuildingDetailController);\n\n    function BuildingDetailController($stateParams, BuildingResultModel, lodash, $uibModal, $timeout){\n        var vm = this;\n\n        $timeout(function(){\n            vm.model = lodash.find(BuildingResultModel.allBuildings, { 'id':$stateParams.id });\n        }, 50);\n\n        if(BuildingResultModel.currentBldgID == null || typeof BuildingResultModel.currentBldgID == 'undefined'){\n            BuildingResultModel.currentBldgID = $stateParams.buildingID;\n        }\n\n        if(BuildingResultModel.currentUnitID == null || typeof BuildingResultModel.currentUnitID == 'undefined'){\n            BuildingResultModel.currentUnitID = $stateParams.id;\n        }\n\n        vm.viewGallery = function(name, floorPlanImage, image){\n            if(typeof floorPlanImage == 'undefined'){\n                floorPlanImage = '';\n            }\n\n            $uibModal.open({\n                templateUrl: 'app/components/modal/gallery.html',\n                controller: 'GalleryModalController',\n                controllerAs: 'galleryModal',\n                resolve: {\n                    data: function(){\n                        return {\n                            name: name,\n                            floorPlanImage: floorPlanImage,\n                            viewImage: image\n                        }\n                    }\n                }\n            });\n        }\n    }\n})();\n\n(function(){\n\n    'use strict';\n\n    angular.module('mrkb.vendors', [\n        'ui.bootstrap',\n        'ngLodash',\n        'toastr',\n        'slickCarousel',\n        'isJS'\n    ])\n\n})();\n\n(function(){\n    'use strict';\n\n    angular.module('mrkb.core', [\n        //'ngAnimate',\n        'ngSanitize',\n        'ngMessages',\n        'ngResource',\n        'ui.router'\n    ])\n\n})();\n\n(function(){\n\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .controller('BuildingController', BuildingController);\n\n    function BuildingController(BuildingResultModel){\n        var vm = this;\n\n        vm.buildingModel = BuildingResultModel;\n\n        // if(is.mobile()){\n        //     $('.mobile-support').addClass('enabled');\n        // }\n\n        // else {\n        //     $('.mobile-support').removeClass('enabled');\n        // }\n    }\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .run(runBlock);\n\n    /** @ngInject */\n    function runBlock() {}\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('mrkb')\n        .config(routerConfig);\n\n    /** @ngInject */\n    function routerConfig($locationProvider, $stateProvider, $urlRouterProvider) {\n        $locationProvider.html5Mode(true);\n\n        $stateProvider\n            .state('building', {\n                abstract: true,\n                'url': '/bldg',\n                views: {\n                    '': {\n                        templateUrl: 'app/building/index.html',\n                        controller: 'BuildingController as building'\n                    },\n                    'building-overview@building': {\n                        templateUrl: 'app/building/overview/overview.html',\n                        controller: 'BuildingOverviewController as buildingOverview'\n                    },\n                    'building-map@building': {\n                        templateUrl: 'app/building/map/map.html',\n                        controller: 'BuildingMapController as buildingMap'\n                    }\n                }\n            })\n\n            .state('building.landing', {\n                'url': '/landing',\n                '': {\n                    templateUrl: 'app/building/index.html',\n                    controller: 'BuildingController as building'\n                }\n            })\n\n            .state('building.overview', {\n                'url': '/:buildingID',\n                views: {\n                    'building-overview@building': {\n                        templateUrl: 'app/building/overview/overview.html',\n                        controller: 'BuildingOverviewController as buildingOverview',\n                        resolve: {\n                            init: ['BuildingResultModel', '$timeout', function(BuildingResultModel, $timeout){\n                                if(!BuildingResultModel.expanded){\n                                    $timeout(function(){\n                                        BuildingResultModel.expanded = true;\n                                    },50);\n                                }\n                            }]\n                        }\n                    }\n                }\n            })\n\n            .state('building.detail', {\n                'url': '/:buildingID/:id',\n                views: {\n                    'building-detail@building': {\n                        'templateUrl': 'app/building/detail/detail.html',\n                        'controller': 'BuildingDetailController as buildingDetail',\n                        resolve: {\n                            init: ['BuildingService', 'BuildingResultModel', '$timeout', '$state', '$stateParams', 'lodash', function(BuildingService, BuildingResultModel, $timeout, $state, $stateParams, lodash){\n                                //if(typeof BuildingResultModel.allBuildings == 'undefined'){\n                                //    BuildingService.getAllBuildingData().then(function(result){\n                                //        BuildingResultModel.allBuildings = result.buildings;\n                                //        console.log('promise: ', BuildingResultModel.allBuildings);\n                                //    });\n                                //}\n\n                                if(BuildingResultModel.currentBldgID == null || typeof BuildingResultModel.currentBldgID == 'undefined'){\n                                    BuildingResultModel.currentBldgID = $stateParams.buildingID;\n                                }\n\n\n                                if(BuildingResultModel.currentUnitID == null || typeof BuildingResultModel.currentUnitID == 'undefined'){\n                                    BuildingResultModel.currentUnitID = $stateParams.id;\n                                }\n\n                                if(!BuildingResultModel.expanded && !BuildingResultModel.detailExpanded){\n                                    $timeout(function(){\n                                        BuildingResultModel.expanded = true;\n                                        BuildingResultModel.detailExpanded = true;\n                                    },50);\n                                }\n                            }]\n                        }\n                    }\n                }\n            });\n\n        $urlRouterProvider.otherwise('/mrkb-inventory/bldg/landing');\n    }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('mrkb')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('mrkb')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"mrkb\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/building/index.html\",\"<!-- Building Overview UI View --><aside ui-view name=building-overview ng-class=\\\"{\\'expanded\\': building.buildingModel.expanded}\\\" class=building-overview></aside><!-- Building Detail UI View --><section ui-view name=building-detail ng-class=\\\"{\\'expanded\\': building.buildingModel.detailExpanded}\\\" class=building-detail></section><!-- Building Map UI View --><section ui-view=building-map ng-class=\\\"{\\'expanded\\': building.buildingModel.shiftMap}\\\" class=building-map></section>\");\n$templateCache.put(\"app/building/detail/detail.html\",\"<div class=building-detail-preview><button class=\\\"btn view-gallery\\\" ng-click=\\\"buildingDetail.viewGallery(buildingDetail.model.name, buildingDetail.model.floorPlanImage, buildingDetail.model.image)\\\">View Gallery</button> <img ng-if=buildingDetail.model.imageThumb ng-src={{buildingDetail.model.imageThumb}} alt=\\\"\\\"><div class=building-detail-preview-dimmer></div></div><div class=building-detail-info><p>{{buildingDetail.model.id}} | {{buildingDetail.model.name}}</p><span class=\\\"building-detail-info-label {{buildingDetail.model.availability}}\\\">{{buildingDetail.model.availability}}</span><ul class=building-detail-info-list><li>{{buildingDetail.model.bedrooms}}</li><li ng-if=buildingDetail.model.den>{{buildingDetail.model.den}}</li><li>{{buildingDetail.model.bathrooms}}</li><li>{{buildingDetail.model.totalSQFT}} SF Total</li><li>{{buildingDetail.model.intSQFT}} SF Inner</li><li>{{buildingDetail.model.lanaiSQFT}} SF Lanai</li></ul></div><div class=building-detail-carousel><img ng-src={{buildingDetail.model.floorplanImage}} ng-click=\\\"buildingDetail.viewGallery(buildingDetail.model.name, buildingDetail.model.floorplanImage)\\\" alt=\\\"{{buildingDetail.model.name}} {{buildingDetail.model.bedrooms}} floorplan\\\"></div>\");\n$templateCache.put(\"app/building/map/map.html\",\"<div class=mapped-item-1 ng-class=\\\"{\\'active\\': buildingMap.mapModel.currentBldgID == 1}\\\" ng-click=buildingMap.navigateToBuildingState(1)><span class=building-text>Building</span><br><span class=building-number>1</span><div class=map-arrow></div></div><div class=mapped-item-5 ng-class=\\\"{\\'active\\': buildingMap.mapModel.currentBldgID == 5}\\\" ng-click=buildingMap.navigateToBuildingState(5)><span class=building-text>Building</span><br><span class=building-number>5</span><div class=map-arrow></div></div><div class=mapped-item-2 ng-class=\\\"{\\'active\\': buildingMap.mapModel.currentBldgID == 2}\\\" ng-click=buildingMap.navigateToBuildingState(2)><span class=building-text>Building</span><br><span class=building-number>2</span><div class=map-arrow></div></div><div class=overlay></div><div class=map-hit-area ng-click=buildingMap.navigateToLanding($event)></div>\");\n$templateCache.put(\"app/building/overview/overview.html\",\"<header class=building-panel-header><h4>Select Floorplan</h4></header><!-- Floor Plan Options Filter--><ul class=building-panel-floorplans><li ng-repeat=\\\"floorPlan in buildingOverview.floorPlanItems\\\"><a ng-href=# ng-click=\\\"buildingOverview.filterByFloorPlan(floorPlan.name); buildingOverview.setActive(floorPlan)\\\" ng-class=\\\"{ \\'active\\' : buildingOverview.floorPlanItemsActive === floorPlan, default: buildingOverview.overviewModel.filterFloorplanItemDefault == true }\\\"><i class=\\\"icon {{floorPlan.icon}}\\\"></i> <span>{{floorPlan.name}}</span><p>{{floorPlan.bedroom}}</p></a></li></ul><!-- Units --><h4>Select Residences</h4><ul class=building-panel-units><li ng-repeat=\\\"building in building.buildingModel.allBuildings | filterMultipleKeyValues: {buildingID: building.buildingModel.currentBldgID, name:building.buildingModel.currentBldgNames, availability:building.buildingModel.FloorPlanTypeAvailability}\\\"><a href=# class={{building.availability}} ng-class=\\\"{\\'active\\': buildingOverview.residenceItemsActive === building.id }\\\" ng-click=\\\"buildingOverview.viewDetail(building.id, building.name); buildingOverview.setActiveResidence(building.id);\\\"><i class=\\\"icon icon-{{building.name}}-coaster\\\"></i> <span class=building-panel-unit-number>{{building.id}}</span></a></li></ul><!-- Unit Availability Filter--><div class=building-panel-options><button ng-repeat=\\\"availabiltyOption in buildingOverview.AvailabiltyOptions\\\" ng-click=buildingOverview.filterByAvailability(availabiltyOption.availability) ng-dblclick=buildingOverview.resetFilters() class=\\\"btn {{availabiltyOption.availability}}\\\">{{availabiltyOption.availability}}</button></div>\");\n$templateCache.put(\"app/components/modal/gallery.html\",\"<button class=\\\"btn close icon icon-close\\\" ng-click=galleryModal.cancel()>&nbsp</button><section class=modal-body><slick settings=galleryModal.slickConfig prev-arrow=.slick-prev next-arrow=.slick-next infinite=true slides-to-show=1 slides-to-scroll=1 mobile-first=true><img ng-if=\\\"galleryModal.properties.viewImage != galleryModal.fpoImage\\\" ng-src={{galleryModal.properties.viewImage}} class=property-img alt=\\\"\\\"> <img ng-repeat=\\\"item in galleryModal.currentGallery.images\\\" ng-src={{galleryModal.currentGallery.images[$index]}} alt=\\\"\\\"></slick><button type=button class=\\\"slick-prev icon icon-prev\\\"></button> <button type=button class=\\\"slick-next icon icon-next\\\"></button></section>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=\\\"navbar navbar-static-top\\\"><div class=container-fluid><div class=navbar-header><button ng-init=\\\"navCollapsed = true\\\" ng-click=\\\"navCollapsed = !navCollapsed\\\" type=button class=\\\"navbar-toggle collapsed\\\" aria-expanded=false><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand ng-click=navBar.navigateToLanding($event)><i class=\\\"icon icon-mkrb-logo mkrb-logo-mark\\\"></i></a></div><div class=\\\"collapse navbar-collapse\\\" uib-collapse=navCollapsed id=bs-example-navbar-collapse-6><ul class=\\\"nav navbar-nav navbar-right\\\"><li ng-repeat=\\\"navItem in navBar.navItems\\\"><a ng-class=\\\"{\\'active\\': navBar.navItems.active, \\'active\\': navBar.navBarModel.currentBldgID == navBar.navItems[$index].buildingNumber}\\\" ng-click=navBar.viewBuilding(navBar.navItems[$index].buildingNumber) ng-href=#>{{navBar.navItems[$index].label}} {{navBar.navItems[$index].buildingNumber}}</a></li></ul></div></div></nav>\");}]);"],"sourceRoot":"/source/"}