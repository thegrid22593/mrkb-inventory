!function(){"use strict";angular.module("mrkb",["mrkb.core","mrkb.vendors"])}(),function(){"use strict";function i(i,l,e,n,a){var t=this;t.properties=l,t.detailModel=e.detailModel,t.currentGallery=n.find(t.detailModel,{name:t.properties.name}),t.fpoImage="/assets/images/buildings/mrkb-birdseye.jpg",t.properties.viewImage=l.viewImage,t.slickConfig={event:{init:function(i,l){""!==t.properties.floorPlanImage&&($(".property-img").remove(),l.slickGoTo($(".slick-track img").length-2)),a(function(){$(".slick-slider").addClass("active")},300)}},mobileFirst:!0},t.cancel=function(){i.dismiss("cancel")}}i.$inject=["$uibModalInstance","data","BuildingResultModel","lodash","$timeout"],angular.module("mrkb").controller("GalleryModalController",i)}(),function(){"use strict";function i(){function i(i,l,e){var n=this;n.navBarModel=i,n.navBarModel.currentBldgID=l.params.buildingID,n.navItems=[{label:"Building",buildingNumber:1,active:!0},{label:"Building",buildingNumber:2,active:!1},{label:"Building",buildingNumber:5,active:!1}],n.viewBuilding=function(n){i.expanded||e(function(){i.expanded=!0,i.shiftMap=!0},50),i.detailExpanded=!1,i.currentBldgNames=[""],i.FloorPlanTypeAvailability=[""],l.go("building.overview",{buildingID:n})},n.navigateToLanding=function(e){e.preventDefault(),i.expanded=!1,i.detailExpanded=!1,i.shiftMap=!1,i.currentBldgNames=[""],i.FloorPlanTypeAvailability=[""],l.go("building.landing")}}i.$inject=["BuildingResultModel","$state","$timeout"];var l={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:i,controllerAs:"navBar",bindToController:!0};return l}angular.module("mrkb").directive("mrkbNavbar",i)}(),function(){"use strict";function i(i){var l=this;l.expanded=!1,l.detailExpanded=!1,l.shiftMap=!1,l.currentBldgID=1,l.currentBldgName=null,l.currentUnitID=null,l.FloorPlanTypeAvailability=[""],l.currentBldgNames=[""],l.sortBy="",l.filterFloorplanItemDefault=!0,i.getAllBuildingData().then(function(i){l.allBuildings=i.buildings}),i.getBuildingGalleryData().then(function(i){l.detailModel=i.galleries})}i.$inject=["BuildingService"],angular.module("mrkb").service("BuildingResultModel",i)}(),angular.module("isJS",[]).factory("is",["$window",function(i){return i.is}]),function(){"use strict";function i(i){function l(){return i.get("app/fixtures/buildings.json").then(function(i){return i.data})}function e(){return i.get("app/fixtures/buildings.json").then(function(i){return i.data})}return{getAllBuildingData:l,getBuildingGalleryData:e}}i.$inject=["$http"],angular.module("mrkb").factory("BuildingService",i)}(),function(){"use strict";angular.module("mrkb").filter("filterMultipleKeyValues",["$filter",function(i){var l=function(i,l){if(angular.isUndefined(i))return!1;if(null===i||null===l)return i===l;if(angular.isObject(l)&&!angular.isArray(l)||angular.isObject(i))return!1;if(i=angular.lowercase(""+i),angular.isArray(l)){var e=!1;return l.forEach(function(l){l=angular.lowercase(""+l),-1!==i.indexOf(l)&&(e=!0)}),e}return l=angular.lowercase(""+l),-1!==i.indexOf(l)};return function(e,n){return i("filter")(e,n,l)}}])}(),function(){"use strict";function i(i,l,e,n,a){var t=this;t.overviewModel=n,console.log("$stateParams: ",l.params.buildingID),n.currentBldgID=l.params.buildingID,t.viewDetail=function(i){a(function(){n.detailExpanded=!0},50),l.go("building.detail",{buildingID:l.params.buildingID,id:i})},t.floorPlanItems=[{icon:"icon-makoa-coaster",name:"Makoa",bedroom:"3 Bedroom"},{icon:"icon-leilani-coaster",name:"Leilani",bedroom:"3 Bedroom + Den"},{icon:"icon-kahua-coaster",name:"Kahua",bedroom:"4 Bedroom"}],t.floorPlanItemsActive=t.floorPlanItems,t.setActive=function(i){t.floorPlanItemsActive=i},t.residenceItemsActive=n.allBuildings,t.setActiveResidence=function(i){t.residenceItemsActive=i},t.AvailabiltyOptions=[{availability:"available"},{availability:"sold"},{availability:"pending"}],t.filterByFloorPlan=function(i){t.overviewModel.filterFloorplanItemDefault=!1,n.currentBldgNames=[],n.FloorPlanTypeAvailability=[""],n.currentBldgNames.push(i.toLowerCase())},t.filterByAvailability=function(i){n.FloorPlanTypeAvailability=[],n.FloorPlanTypeAvailability.push(i)},t.resetFilters=function(){n.FloorPlanTypeAvailability=[""]}}i.$inject=["$log","$state","$stateParams","BuildingResultModel","$timeout"],angular.module("mrkb").controller("BuildingOverviewController",i)}(),function(){"use strict";function i(i,l,e,n){var a=this;a.mapModel=e,a.mapModel.currentBldgID=l.params.buildingID,a.navigateToBuildingState=function(i){e.expanded||n(function(){e.expanded=!0,e.shiftMap=!0},50),e.detailExpanded=!1,e.currentBldgNames=[""],e.FloorPlanTypeAvailability=[""],l.go("building.overview",{buildingID:i})},a.navigateToLanding=function(i){i.preventDefault(),e.detailExpanded=!1,n(function(){e.expanded=!1,e.shiftMap=!1},50),l.go("building.landing")}}i.$inject=["$log","$state","BuildingResultModel","$timeout"],angular.module("mrkb").controller("BuildingMapController",i)}(),function(){"use strict";function i(i,l,e,n,a){var t=this;a(function(){t.model=e.find(l.allBuildings,{id:i.id})},50),(null==l.currentBldgID||"undefined"==typeof l.currentBldgID)&&(l.currentBldgID=i.buildingID),(null==l.currentUnitID||"undefined"==typeof l.currentUnitID)&&(l.currentUnitID=i.id),t.viewGallery=function(i,l,e){"undefined"==typeof l&&(l=""),n.open({templateUrl:"app/components/modal/gallery.html",controller:"GalleryModalController",controllerAs:"galleryModal",resolve:{data:function(){return{name:i,floorPlanImage:l,viewImage:e}}}})}}i.$inject=["$stateParams","BuildingResultModel","lodash","$uibModal","$timeout"],angular.module("mrkb").controller("BuildingDetailController",i)}(),function(){"use strict";angular.module("mrkb.vendors",["ui.bootstrap","ngLodash","toastr","slickCarousel","isJS"])}(),function(){"use strict";angular.module("mrkb.core",["ngSanitize","ngMessages","ngResource","ui.router"])}(),function(){"use strict";function i(i,l){var e=this;e.buildingModel=i,l.mobile()?$(".mobile-support").addClass("enabled"):$(".mobile-support").removeClass("enabled")}i.$inject=["BuildingResultModel","is"],angular.module("mrkb").controller("BuildingController",i)}(),function(){"use strict";function i(){}angular.module("mrkb").run(i)}(),function(){"use strict";function i(i,l,e){i.html5Mode(!0),l.state("building",{"abstract":!0,url:"/bldg",views:{"":{templateUrl:"app/building/index.html",controller:"BuildingController as building"},"building-overview@building":{templateUrl:"app/building/overview/overview.html",controller:"BuildingOverviewController as buildingOverview"},"building-map@building":{templateUrl:"app/building/map/map.html",controller:"BuildingMapController as buildingMap"}}}).state("building.landing",{url:"/landing","":{templateUrl:"app/building/index.html",controller:"BuildingController as building"}}).state("building.overview",{url:"/:buildingID",views:{"building-overview@building":{templateUrl:"app/building/overview/overview.html",controller:"BuildingOverviewController as buildingOverview",resolve:{init:["BuildingResultModel","$timeout",function(i,l){i.expanded||l(function(){i.expanded=!0},50)}]}}}}).state("building.detail",{url:"/:buildingID/:id",views:{"building-detail@building":{templateUrl:"app/building/detail/detail.html",controller:"BuildingDetailController as buildingDetail",resolve:{init:["BuildingService","BuildingResultModel","$timeout","$state","$stateParams","lodash",function(i,l,e,n,a,t){(null==l.currentBldgID||"undefined"==typeof l.currentBldgID)&&(l.currentBldgID=a.buildingID),(null==l.currentUnitID||"undefined"==typeof l.currentUnitID)&&(l.currentUnitID=a.id),l.expanded||l.detailExpanded||e(function(){l.expanded=!0,l.detailExpanded=!0},50)}]}}}}),e.otherwise("/bldg/landing")}i.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"],angular.module("mrkb").config(i)}(),function(){"use strict";angular.module("mrkb").constant("malarkey",malarkey).constant("moment",moment)}(),function(){"use strict";function i(i,l){i.debugEnabled(!0),l.allowHtml=!0,l.timeOut=3e3,l.positionClass="toast-top-right",l.preventDuplicates=!0,l.progressBar=!0}i.$inject=["$logProvider","toastrConfig"],angular.module("mrkb").config(i)}(),angular.module("mrkb").run(["$templateCache",function(i){i.put("app/building/index.html","<!-- Building Overview UI View --><aside ui-view name=building-overview ng-class=\"{'expanded': building.buildingModel.expanded}\" class=building-overview></aside><!-- Building Detail UI View --><section ui-view name=building-detail ng-class=\"{'expanded': building.buildingModel.detailExpanded}\" class=building-detail></section><!-- Building Map UI View --><section ui-view=building-map ng-class=\"{'expanded': building.buildingModel.shiftMap}\" class=building-map></section>"),i.put("app/building/detail/detail.html",'<div class=building-detail-preview><button class="btn view-gallery" ng-click="buildingDetail.viewGallery(buildingDetail.model.name, buildingDetail.model.floorPlanImage, buildingDetail.model.image)">View Gallery</button> <img ng-if=buildingDetail.model.imageThumb ng-src={{buildingDetail.model.imageThumb}} alt=""><div class=building-detail-preview-dimmer></div></div><div class=building-detail-info><p>{{buildingDetail.model.id}} | {{buildingDetail.model.name}}</p><span class="building-detail-info-label {{buildingDetail.model.availability}}">{{buildingDetail.model.availability}}</span><ul class=building-detail-info-list><li>{{buildingDetail.model.bedrooms}}</li><li ng-if=buildingDetail.model.den>{{buildingDetail.model.den}}</li><li>{{buildingDetail.model.bathrooms}}</li><li>{{buildingDetail.model.totalSQFT}} SF Total</li><li>{{buildingDetail.model.intSQFT}} SF Inner</li><li>{{buildingDetail.model.lanaiSQFT}} SF Lanai</li></ul></div><div class=building-detail-carousel><img ng-src={{buildingDetail.model.floorplanImage}} ng-click="buildingDetail.viewGallery(buildingDetail.model.name, buildingDetail.model.floorplanImage)" alt="{{buildingDetail.model.name}} {{buildingDetail.model.bedrooms}} floorplan"></div>'),i.put("app/building/map/map.html","<div class=mapped-item-1 ng-class=\"{'active': buildingMap.mapModel.currentBldgID == 1}\" ng-click=buildingMap.navigateToBuildingState(1)><span class=building-text>Building</span><br><span class=building-number>1</span><div class=map-arrow></div></div><div class=mapped-item-5 ng-class=\"{'active': buildingMap.mapModel.currentBldgID == 5}\" ng-click=buildingMap.navigateToBuildingState(5)><span class=building-text>Building</span><br><span class=building-number>5</span><div class=map-arrow></div></div><div class=mapped-item-2 ng-class=\"{'active': buildingMap.mapModel.currentBldgID == 2}\" ng-click=buildingMap.navigateToBuildingState(2)><span class=building-text>Building</span><br><span class=building-number>2</span><div class=map-arrow></div></div><div class=overlay></div><div class=map-hit-area ng-click=buildingMap.navigateToLanding($event)></div>"),i.put("app/building/overview/overview.html",'<header class=building-panel-header><h4>Select Floorplan</h4></header><!-- Floor Plan Options Filter--><ul class=building-panel-floorplans><li ng-repeat="floorPlan in buildingOverview.floorPlanItems"><a ng-href=# ng-click="buildingOverview.filterByFloorPlan(floorPlan.name); buildingOverview.setActive(floorPlan)" ng-class="{ \'active\' : buildingOverview.floorPlanItemsActive === floorPlan, default: buildingOverview.overviewModel.filterFloorplanItemDefault == true }"><i class="icon {{floorPlan.icon}}"></i> <span>{{floorPlan.name}}</span><p>{{floorPlan.bedroom}}</p></a></li></ul><!-- Units --><h4>Select Residences</h4><ul class=building-panel-units><li ng-repeat="building in building.buildingModel.allBuildings | filterMultipleKeyValues: {buildingID: building.buildingModel.currentBldgID, name:building.buildingModel.currentBldgNames, availability:building.buildingModel.FloorPlanTypeAvailability}"><a href=# class={{building.availability}} ng-class="{\'active\': buildingOverview.residenceItemsActive === building.id }" ng-click="buildingOverview.viewDetail(building.id, building.name); buildingOverview.setActiveResidence(building.id);"><i class="icon icon-{{building.name}}-coaster"></i> <span class=building-panel-unit-number>{{building.id}}</span></a></li></ul><!-- Unit Availability Filter--><div class=building-panel-options><button ng-repeat="availabiltyOption in buildingOverview.AvailabiltyOptions" ng-click=buildingOverview.filterByAvailability(availabiltyOption.availability) ng-dblclick=buildingOverview.resetFilters() class="btn {{availabiltyOption.availability}}">{{availabiltyOption.availability}}</button></div>'),i.put("app/components/modal/gallery.html",'<button class="btn close icon icon-close" ng-click=galleryModal.cancel()>&nbsp</button><section class=modal-body><slick settings=galleryModal.slickConfig prev-arrow=.slick-prev next-arrow=.slick-next infinite=true slides-to-show=1 slides-to-scroll=1 mobile-first=true><img ng-if="galleryModal.properties.viewImage != galleryModal.fpoImage" ng-src={{galleryModal.properties.viewImage}} class=property-img alt=""> <img ng-repeat="item in galleryModal.currentGallery.images" ng-src={{galleryModal.currentGallery.images[$index]}} alt=""></slick><button type=button class="slick-prev icon icon-prev"></button> <button type=button class="slick-next icon icon-next"></button></section>'),i.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top"><div class=container-fluid><div class=navbar-header><button ng-init="navCollapsed = true" ng-click="navCollapsed = !navCollapsed" type=button class="navbar-toggle collapsed" aria-expanded=false><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand ng-click=navBar.navigateToLanding($event)><i class="icon icon-mkrb-logo mkrb-logo-mark"></i></a></div><div class="collapse navbar-collapse" uib-collapse=navCollapsed id=bs-example-navbar-collapse-6><ul class="nav navbar-nav navbar-right"><li ng-repeat="navItem in navBar.navItems"><a ng-class="{\'active\': navBar.navItems.active, \'active\': navBar.navBarModel.currentBldgID == navBar.navItems[$index].buildingNumber}" ng-click=navBar.viewBuilding(navBar.navItems[$index].buildingNumber) ng-href=#>{{navBar.navItems[$index].label}} {{navBar.navItems[$index].buildingNumber}}</a></li></ul></div></div></nav>')}]);
//# sourceMappingURL=../maps/scripts/app-265ba7a84d.js.map
